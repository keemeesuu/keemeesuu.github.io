---
layout: post
comments: true
date: 2021-02-27 21:00:20
title: "외부 스크립트를 오브젝트 인스펙터에서 변수할당을 안하고 참조하는법"
# description: "Unity API"
subject: unity
categories: [ Unity ]
tags: [ unity, Inspector ]
---


## GameManager클래스에서 Enemy클래스에게 참조하기

클래스가 클래스에게 데이터를 넘기는 방식

이경우 A오브젝트는 B오브젝트를 참조하지만 A오브젝트 인스펙터 변수에 B오브젝트를 끌어다 놓지 않아도(Inspector 변수할당을 안해도) B오브젝트에 있는 스크립트를 호출할 수 있다.

![Enemy](/images/dev/Screen Shot 2021-02-27 at 5.59.26 PM.png){: width="350px" display="inline-block" vertical-align="top" }
![GameManager](/images/dev/Screen Shot 2021-02-27 at 5.52.52 PM.png){: width="350px" display="inline-block" vertical-align="top" }


```c#
public class GameManager : MonoBehaviour
{
    public GameObject enemy;

    void Start(){
        GameObject enemy = Instantiate(enemy);

        Enemy enemyLogic = enemy.getComponant<Enemy>();
        enemyLogic.gameManager = this; // 자신(GameManager)를 참조시킬경우, 인스턴스
    }

    public void CallExplosion(){
        Debug.Log("파괴");
    }
}


public class Enemy : MonoBehaviour
{
    public GameManager gameManager;

    public void OnHit(int dmg){
        hp -= dmg;
        if(hp < 0){
            gameManager.CallExplosion();
        }
    }
}

```